/* --- START FILE: src/renderer/App.css --- */
/* src/renderer/App.css */

.app-container {
  /* REMOVE display: flex; */
  height: 100%;  /* Crucial: Take full viewport height */
  width: 100%;
  background-color: var(--color-bg-app);
  overflow: hidden; /* Prevent body scrollbars */
}

.sidebar {
  /* REMOVE width: var(--sidebar-width); */
  /* REMOVE flex-shrink: 0; */
  background-color: var(--color-bg-sidebar);
  /* REMOVE border-right: var(--border-standard); */ /* Allotment sash will overlay this */
  /* padding: var(--spacing-md); */ /* Move padding to inner elements if needed */
  height: 100%; /* Still needed to fill the Allotment.Pane vertically */
  color: var(--color-text-primary);
  display: flex; /* Still needed for internal layout (stacking elements) */
  flex-direction: column; /* Stack elements vertically */
  overflow: hidden; /* Hide overflow, internal elements scroll */
}

/* --- NEW: Sidebar Header --- */
.sidebar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-md); /* Add padding here */
  border-bottom: var(--border-standard);
  flex-shrink: 0;
}

.sidebar-header h2 {
  margin: 0; /* Remove default margin */
  font-size: var(--font-size-lg);
  color: var(--color-text-heading);
}

.sidebar-header button {
   font-size: var(--font-size-sm);
   padding: var(--spacing-xxs) var(--spacing-xs); /* Smaller button */
}

/* --- NEW: Current Folder Path --- */
.current-folder-path {
    padding: var(--spacing-xs) var(--spacing-md);
    font-size: var(--font-size-sm);
    color: var(--color-text-tertiary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-shrink: 0;
    border-bottom: var(--border-standard);
}

/* --- MODIFIED: File Tree Area --- */
.file-tree {
    flex-grow: 1; /* Allow file tree to take remaining vertical space */
    overflow-y: auto; /* Allow scrolling WITHIN this area if content grows */
    min-height: 50px; /* Give it some minimum space */
    padding: var(--spacing-sm) var(--spacing-md); /* Padding inside the tree area */
    font-size: var(--font-size-sm);
}

.file-tree ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.file-tree li.file-entry {
    padding: var(--spacing-xxs) 0;
    cursor: default; /* Change later for clicking */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.file-tree li.file-entry:hover {
    background-color: var(--color-bg-hover);
}

.file-tree .placeholder-message {
    color: var(--color-text-tertiary);
    padding: var(--spacing-md) 0;
}

.file-tree .error-message {
    color: var(--color-text-error);
    padding: var(--spacing-md) 0;
}


/* Theme switcher container - Positioned at the bottom */
.sidebar .theme-switcher {
  margin-top: auto; /* Pushes it to the bottom */
  padding: var(--spacing-md); /* Add padding here */
  border-top: var(--border-standard); /* Separator line */
  flex-shrink: 0; /* Prevent shrinking */
  position: relative; /* Needed for z-index context */
  z-index: 5; /* Lower than dropdown options */
}

/* Label for the theme switcher */
.sidebar .theme-switcher label {
  display: block;
  margin-bottom: var(--spacing-xs);
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

/* Main panel containing the INNER (vertical) Allotment */
.main-panel {
  /* REMOVE flex-grow: 1; */
  display: flex; /* Still needed for its child (vertical Allotment) */
  flex-direction: column; /* Stack editor and terminal vertically (conceptually) */
  height: 100%; /* Still needed to fill the Allotment.Pane vertically */
  overflow: hidden; /* Prevent this panel itself from scrolling */
  background-color: var(--color-bg-main); /* Background for the area Allotment fills */
}

/* Styling for the direct children INSIDE the INNER (Vertical) Allotment Panes */
/* Editor panel styles */
.editor-panel {
  /* No flex-grow needed - Allotment controls height */
  background-color: var(--color-bg-editor); /* Use theme variable */
  overflow: hidden; /* Monaco Editor manages its own scrolling */
  color: var(--color-text-secondary);
  font-size: var(--font-size-md);
  position: relative;
  /* *** CRUCIAL FOR ALLOTMENT CHILD *** */
  height: 100%;
  width: 100%;
  display: flex; /* Ensure Monaco container can fill space */
}

/* Styles for the container div returned by TerminalPanel */
.terminal-panel-container {
   /* No fixed height var - Allotment controls height */
   flex-shrink: 0; /* Keep this, although Allotment manages shrinking */
   background-color: var(--color-bg-terminal);
   color: var(--color-text-terminal);
   /* border-top removed as Allotment sash handles it */
   overflow: hidden; /* Xterm manages its own scrolling */
   font-family: var(--font-family-mono);
   font-size: var(--font-size-terminal);
   position: relative;
   /* *** CRUCIAL FOR ALLOTMENT CHILD *** */
   height: 100%;
   width: 100%;
   display: flex; /* Helps child elements fill the container */
   padding: var(--spacing-xs); /* Add padding INSIDE the terminal container */
}


/* Target the direct child wrapper of the terminal (xterm needs this) */
.terminal-panel-container > div {
     width: 100%;
     height: 100%;
}

/* Target the main xterm element itself for potential overrides */
.terminal-panel-container .terminal.xterm {
    height: 100% !important; /* Ensure it fills the container height */
    width: 100% !important; /* Ensure it fills the container width */
    /* Padding moved to parent container */
}

/* Ensure the internal xterm screen fills the terminal element */
 .terminal-panel-container .xterm-screen {
     width: 100% !important;
     height: 100% !important;
 }

/* Hide any accidental placeholder <p> tags in terminal panel */
.terminal-panel-container p {
   display: none;
}
/* --- END FILE: src/renderer/App.css --- */